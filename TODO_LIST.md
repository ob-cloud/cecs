# Smart功能模块

## 2019/11/13

1. [ ] 绑定设备过滤条件
2. [ ] 场景管理
3. [ ] 导出记录
4. [ ] 场景管理国际化-action，condition
5. [ ] 后台数据国际化

## 系统搭建

1. [ ] 系统导航状态优化

## 登录

1. [x] 账号密码登录
2. [x] 登出
3. [ ] 手机验证码登录

## 用户管理

1. [x] 修改密码

## 设备管理

1. [x] 设备列表
   1. [ ] 设备版本码未转换
   - 设备类型、子类型转换：对外接口，设备类型、状态、地址、版本等转码应该简单易用
2. [x] 设备查询
   - 查询接口部分字段缺失
3. [x] 查询obox列表
4. [ ] 添加设备
   1. [ ] 没有获取设备类型接口？
5. [ ] 设备编辑
   1. [ ] 每种设备类型的操作都不一致，需要添加设备进行功能开发
6. [ ] 设备配置
7. [x] 设备详情
   1. [x] 面板操作历史记录
8. [x] 删除设备
9. [ ] 设备操作
   1. [ ] 门锁类型
      1. [ ] 历史记录[接口需重新定义，分页及数据结构]
      2. [ ] 报警记录[问题同历史记录]
      3. [ ] 用户列表[问题同上]
      4. [ ] 远程授权开锁
      5. [ ] 授权开锁-忘记密码
      6. [ ] 授权开锁-修改权限密码
      7. [ ] 门锁重命名
      8. [ ] 推送设置
      9. [ ] 删除
   2. [ ] 开关
      1. [ ] 状态设置
      2. [ ] 历史记录
      3. [ ] 重命名
      4. [ ] 删除
   3. [ ] 面板
   4. [ ]

## 场景管理

1. [x] 场景列表
2. [x] 切换场景状态
3. [x] 场景查询
   - 接口查询条件需调整
4. [x] 执行场景
5. [x] 删除场景
6. [ ] 编辑场景
   1. [ ] 场景条件数据规则不明确
   2. [ ] 场景action数据规则不明确
7. [ ] 创建场景

## 教室管理

1. [x] 教室列表
2. [x] 教室列表设备状态码转换
   - 设备状态、设备类型均为16进制码，需转换（用于公共平台不合理）
3. [x] 教室列表设备类型、子类型转换
   - 设备类型、设备子类型均为16进制码，需转换（用于公共平台不合理）
4. [x] 查询条件
   - 接口查询条件需调整
5. [x] 查询教室设备列表
   - 获取列表接口不应为post请求
6. [x] 获取设备列表
   1. [ ] 设备状态码未转换
   2. [ ] 设备类型码未转换
7. [x] 绑定设备到教室
   - 接口文档与APP实际接口传参描述不符
   - 绑定设备到教室时，应判断是否已经绑定过，返回相关提示
8. [x] 删除设备
9. [x] 查询教室场景列表
   - 接口传参异常
   - 获取列表接口不应为post请求
10. [x] 执行教室场景
11. [x] 删除教室场景
12. [x] 查询所有场景列表
13. [x] 绑定场景到教室
    - 接口提示系统错误，实际已经绑定成功
14. [x] 创建教室
    - 文档接口跟APP接口有出入，APP接口请求路径为`consumer/image/createLocation`
    - 对外公开接口，action应为0或1
    - 缺少“层”字段
    - 创建接口参数异常，serialId :question:
15. [x] 更新教室
    - 接口<无>:question:
16. [ ] 删除教室
    - 接口异常

## OBOX管理

1. [x] obox列表
   1. [ ] 版本码未转换
2. [x] obox查询
   - 接口查询条件字段缺失
3. [x] obox升级
   - 升级接口<无>:question:

## 其他一些问题 :point_down:

1. 接口响应体状态码不统一, 成功时返回状态值有200，214...
2. 接口响应体数据字段不统一
3. 接口划分不明确，接口文档请求类型混乱、不明确。接口请求方法使用不规范，不区分`get/post/...`，如获取列表一般用`GET`，实际用了`POST`
4. 列表需要按分页处理，并返回记录总数。
5. 部分实现分页的接口，需返回总记录数
6. 列表分页字段不统一，一会start，一会start_index
